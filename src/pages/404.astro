---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout>
    <div class="container flex flex-col gap-y-0">
        <p>404. fret not. </p>
        <p> you are not lost. </p> 
        <p> there are <span id = "scramble" class = "text-blue-900 dark:text-blue-200"></span>.</p>
        <a href = "/" target="_self" class = "underline-offset-4 underline dark:decoration-[#FFFFFF40] decoration-[#00000040]">start here.</a>
    </div>
    </BaseLayout>

<script>
import Scrambler from "scrambling-text";
import {PHRASES} from "../consts";

const scrambler = new Scrambler();
const handleScramble = (text: string) => {
    document.getElementById('scramble')!.innerHTML = text;
}

let i = 0;
function scrambleText() {
    const target = PHRASES[i++%PHRASES.length];
    scrambler.scramble(target, handleScramble, {
        characters: "01",
    });
    setTimeout(scrambleText, 3000);
}
scrambleText(); // initial call


</script>